{"ast":null,"code":"import _objectSpread from\"/Users/weiqiang/Desktop/NYU Abu Dhabi/Comp Sci/Hackathons/FitMate/fitmate-prototype1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Upload,Sparkles,User,LogOut,Trash2,ShoppingBag,Loader2,Home,FolderOpen,Archive,CheckCircle,Settings,Calendar}from'lucide-react';import JSZip from'jszip';import EventPlanner from'./EventPlanner';// API Key\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GEMINI_API_KEY='AIzaSyACMmigNUz9JTuunnelqtUrNMbPHzmkaPw';// ============= API SCHEMAS =============\nconst clothingAnalysisSchema={type:\"OBJECT\",properties:{type:{type:\"STRING\"},color:{type:\"STRING\"},material:{type:\"STRING\"},style:{type:\"ARRAY\",items:{type:\"STRING\"}},fullDescription:{type:\"STRING\"}},propertyOrdering:[\"type\",\"color\",\"material\",\"style\",\"fullDescription\"]};const outfitRecommendationSchema={type:\"OBJECT\",properties:{selectedItems:{type:\"ARRAY\",items:{type:\"STRING\"}},styleNote:{type:\"STRING\"}},propertyOrdering:[\"selectedItems\",\"styleNote\"]};// ============= API FUNCTIONS =============\nconst fetchStructuredContent=async(userQuery,systemPrompt,responseSchema)=>{const apiUrl=\"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=\".concat(GEMINI_API_KEY);const payload={contents:[{parts:[{text:userQuery}]}],systemInstruction:{parts:[{text:systemPrompt}]},generationConfig:{responseMimeType:\"application/json\",responseSchema:responseSchema}};const attemptFetch=async function(){let retries=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;try{var _result$candidates,_result$candidates$,_result$candidates$$c,_result$candidates$$c2,_result$candidates$$c3;const response=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();const jsonString=result===null||result===void 0?void 0:(_result$candidates=result.candidates)===null||_result$candidates===void 0?void 0:(_result$candidates$=_result$candidates[0])===null||_result$candidates$===void 0?void 0:(_result$candidates$$c=_result$candidates$.content)===null||_result$candidates$$c===void 0?void 0:(_result$candidates$$c2=_result$candidates$$c.parts)===null||_result$candidates$$c2===void 0?void 0:(_result$candidates$$c3=_result$candidates$$c2[0])===null||_result$candidates$$c3===void 0?void 0:_result$candidates$$c3.text;if(!jsonString){throw new Error(\"API response was missing expected JSON content.\");}return JSON.parse(jsonString);}catch(error){if(retries>0&&error.message.includes('429')){console.warn(\"Rate limit hit, retrying in \".concat(4-retries,\" seconds...\"));await new Promise(resolve=>setTimeout(resolve,(4-retries)*1000));return attemptFetch(retries-1);}throw error;}};return attemptFetch();};const analyzeClothingWithGemini=async function(imageBase64){let mimeType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'image/jpeg';const userQuery=\"Analyze this clothing item image and provide detailed information about it.\";const systemPrompt=\"You are an expert fashion analyst. Analyze the clothing item in the image and provide:\\n- type: The specific type of clothing (e.g., \\\"T-shirt\\\", \\\"Jeans\\\", \\\"Sneakers\\\", \\\"Dress\\\")\\n- color: The primary color of the item\\n- material: The apparent material (e.g., \\\"Cotton\\\", \\\"Denim\\\", \\\"Leather\\\", \\\"Wool\\\", \\\"Polyester\\\")\\n- style: An array of 2-4 style tags (e.g., [\\\"casual\\\", \\\"streetwear\\\"], [\\\"formal\\\", \\\"business\\\"], [\\\"sporty\\\", \\\"athletic\\\"])\\n- fullDescription: A detailed 2-3 sentence description including design elements, patterns, fit, and notable features\\n\\nBe specific and accurate. Return ONLY valid JSON matching the schema.\";const apiUrl=\"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=\".concat(GEMINI_API_KEY);const payload={contents:[{parts:[{text:userQuery},{inline_data:{mime_type:mimeType,data:imageBase64}}]}],systemInstruction:{parts:[{text:systemPrompt}]},generationConfig:{responseMimeType:\"application/json\",responseSchema:clothingAnalysisSchema}};const attemptFetch=async function(){let retries=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;try{var _result$candidates2,_result$candidates2$,_result$candidates2$$,_result$candidates2$$2,_result$candidates2$$3;const response=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){var _errorData$error;const errorData=await response.json();console.error('Gemini API Error:',errorData);throw new Error(((_errorData$error=errorData.error)===null||_errorData$error===void 0?void 0:_errorData$error.message)||\"HTTP error! status: \".concat(response.status));}const result=await response.json();const jsonString=result===null||result===void 0?void 0:(_result$candidates2=result.candidates)===null||_result$candidates2===void 0?void 0:(_result$candidates2$=_result$candidates2[0])===null||_result$candidates2$===void 0?void 0:(_result$candidates2$$=_result$candidates2$.content)===null||_result$candidates2$$===void 0?void 0:(_result$candidates2$$2=_result$candidates2$$.parts)===null||_result$candidates2$$2===void 0?void 0:(_result$candidates2$$3=_result$candidates2$$2[0])===null||_result$candidates2$$3===void 0?void 0:_result$candidates2$$3.text;if(!jsonString){throw new Error(\"API response was missing expected JSON content.\");}return JSON.parse(jsonString);}catch(error){if(retries>0&&error.message.includes('429')){console.warn(\"Rate limit hit, retrying in \".concat(4-retries,\" seconds...\"));await new Promise(resolve=>setTimeout(resolve,(4-retries)*1000));return attemptFetch(retries-1);}throw error;}};return attemptFetch();};const generateOutfitWithGemini=async function(clothingItems,occasion){var _userPreferences$comf,_userPreferences$styl,_userPreferences$disl;let userPreferences=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const wardrobeDescription=clothingItems.map((item,index)=>({id:item.id,index:index,type:item.aiDescription.type,color:item.aiDescription.color,material:item.aiDescription.material,style:item.aiDescription.style,fullDescription:item.aiDescription.fullDescription}));const preferencesText=userPreferences?\"\\nUser Preferences:\\n- Body Type: \".concat(userPreferences.bodyType||'Not specified',\"\\n- Comfort Preferences: \").concat(((_userPreferences$comf=userPreferences.comfortPreferences)===null||_userPreferences$comf===void 0?void 0:_userPreferences$comf.join(', '))||'None specified',\"\\n- Style Preferences: \").concat(((_userPreferences$styl=userPreferences.stylePreferences)===null||_userPreferences$styl===void 0?void 0:_userPreferences$styl.join(', '))||'None specified',\"\\n- Dislikes: \").concat(((_userPreferences$disl=userPreferences.dislikes)===null||_userPreferences$disl===void 0?void 0:_userPreferences$disl.join(', '))||'None specified',\"\\n- Shoe Preferences: \").concat(userPreferences.shoePreferences||'Not specified',\"\\n- Fit Preferences: \").concat(userPreferences.fitPreferences||'Not specified',\"\\n\"):'';const userQuery=\"Create an outfit recommendation for this occasion: \".concat(occasion,\"\\n\\nAvailable wardrobe items:\\n\").concat(JSON.stringify(wardrobeDescription,null,2),\"\\n\").concat(preferencesText);const systemPrompt=\"You are a professional fashion stylist. Based on the user's wardrobe, preferences, and the specified occasion, recommend a complete outfit of 3-4 items.\\n\\nInstructions:\\n1. Select items that are appropriate for the occasion\\n2. Ensure the colors complement each other\\n3. Match style and formality levels\\n4. Create a cohesive, fashionable look\\n5. IMPORTANT: Respect the user's preferences and avoid items they dislike\\n6. Consider their comfort preferences (e.g., avoid tight items if they prefer loose fits)\\n7. Match their style preferences when possible\\n8. Consider their shoe preferences for footwear selection\\n9. Respect their fit preferences (loose, fitted, etc.)\\n\\nReturn:\\n- selectedItems: Array of item IDs (strings) that form the outfit\\n- styleNote: A brief 2-3 sentence explanation of why this outfit works for the occasion and how it respects their preferences\\n\\nReturn ONLY valid JSON matching the schema.\";return fetchStructuredContent(userQuery,systemPrompt,outfitRecommendationSchema);};// ============= MAIN APP =============\nexport default function FitMate(){const[currentView,setCurrentView]=useState('home');const[users,setUsers]=useState([]);const[currentUser,setCurrentUser]=useState(null);const[wardrobe,setWardrobe]=useState([]);const[authForm,setAuthForm]=useState({email:'',password:'',name:''});const[error,setError]=useState('');const[success,setSuccess]=useState('');const[loading,setLoading]=useState(false);// User preferences state\nconst[userPreferences,setUserPreferences]=useState({bodyType:'',comfortPreferences:[],stylePreferences:[],dislikes:[],shoePreferences:'',fitPreferences:''});const[selectedFile,setSelectedFile]=useState(null);const[preview,setPreview]=useState(null);// Bulk upload states\nconst[bulkFiles,setBulkFiles]=useState([]);const[bulkPreview,setBulkPreview]=useState([]);const[bulkLoading,setBulkLoading]=useState(false);const[uploadProgress,setUploadProgress]=useState({current:0,total:0});const[uploadMode,setUploadMode]=useState('single');// 'single' or 'bulk'\nconst[occasion,setOccasion]=useState('');const[recommendedOutfit,setRecommendedOutfit]=useState(null);useEffect(()=>{const savedUsers=localStorage.getItem('fitmate_users');const savedWardrobe=localStorage.getItem('fitmate_wardrobe');if(savedUsers)setUsers(JSON.parse(savedUsers));if(savedWardrobe)setWardrobe(JSON.parse(savedWardrobe));},[]);useEffect(()=>{if(success){const timer=setTimeout(()=>setSuccess(''),3000);return()=>clearTimeout(timer);}},[success]);const saveUsers=newUsers=>{setUsers(newUsers);localStorage.setItem('fitmate_users',JSON.stringify(newUsers));};const saveWardrobe=newWardrobe=>{setWardrobe(newWardrobe);localStorage.setItem('fitmate_wardrobe',JSON.stringify(newWardrobe));};const handleSignUp=()=>{setError('');if(!authForm.name||!authForm.email||!authForm.password){setError('All fields are required');return;}if(authForm.password.length<6){setError('Password must be at least 6 characters');return;}if(users.find(u=>u.email===authForm.email)){setError('User already exists');return;}const newUser={id:Date.now().toString(),name:authForm.name,email:authForm.email,password:authForm.password,preferences:{bodyType:'',comfortPreferences:[],stylePreferences:[],dislikes:[],shoePreferences:'',fitPreferences:''}};saveUsers([...users,newUser]);setCurrentUser(newUser);setAuthForm({email:'',password:'',name:''});setCurrentView('wardrobe');setSuccess('Account created successfully!');};const handleSignIn=()=>{setError('');const user=users.find(u=>u.email===authForm.email&&u.password===authForm.password);if(!user){setError('Invalid credentials');return;}setCurrentUser(user);setAuthForm({email:'',password:'',name:''});setCurrentView('wardrobe');setSuccess('Welcome back!');};const handleLogout=()=>{setCurrentUser(null);setCurrentView('home');setRecommendedOutfit(null);};const handleFileSelect=e=>{const file=e.target.files[0];if(file){setSelectedFile(file);const reader=new FileReader();reader.onloadend=()=>{setPreview(reader.result);};reader.readAsDataURL(file);setSuccess('');setError('');}};const handleUpload=async()=>{if(!selectedFile){setError('Please select an image');return;}// Validate file type\nif(!selectedFile.type.startsWith('image/')){setError('Please select a valid image file');return;}// Check for supported formats\nconst supportedTypes=['image/jpeg','image/jpg','image/png','image/webp'];if(!supportedTypes.includes(selectedFile.type.toLowerCase())){setError('Please select a JPEG, PNG, or WebP image file');return;}// Validate file size (max 10MB)\nif(selectedFile.size>10*1024*1024){setError('Image file is too large. Please select an image smaller than 10MB');return;}setLoading(true);setError('');try{const reader=new FileReader();reader.onloadend=async()=>{try{const base64=reader.result.split(',')[1];console.log('Image details:',{fileName:selectedFile.name,fileSize:selectedFile.size,fileType:selectedFile.type,base64Length:base64.length});const aiDescription=await analyzeClothingWithGemini(base64,selectedFile.type);const newItem={id:Date.now().toString(),userId:currentUser.id,imageUrl:reader.result,aiDescription,createdAt:new Date().toISOString()};saveWardrobe([...wardrobe,newItem]);setSuccess('Item uploaded and analyzed successfully!');setSelectedFile(null);setPreview(null);setLoading(false);setTimeout(()=>{setCurrentView('wardrobe');setSuccess('');},2000);}catch(err){console.error('Upload error:',err);setError(\"Failed to analyze image: \".concat(err.message,\". Please try a different image or check if the image format is supported.\"));setLoading(false);}};reader.readAsDataURL(selectedFile);}catch(err){setError('Failed to process image');setLoading(false);}};// Bulk upload functions\nconst handleBulkFileSelect=async e=>{const files=Array.from(e.target.files);const imageFiles=files.filter(file=>file.type.startsWith('image/'));if(imageFiles.length===0){setError('Please select image files only');return;}setBulkFiles(imageFiles);setError('');// Create previews for all images\nconst previews=[];for(let i=0;i<imageFiles.length;i++){const reader=new FileReader();reader.onloadend=()=>{previews[i]=reader.result;if(previews.length===imageFiles.length){setBulkPreview([...previews]);}};reader.readAsDataURL(imageFiles[i]);}};const handleZipUpload=async e=>{const file=e.target.files[0];if(!file)return;if(!file.name.toLowerCase().endsWith('.zip')){setError('Please select a ZIP file');return;}setBulkLoading(true);setError('');try{const zip=new JSZip();const zipContent=await zip.loadAsync(file);const imageFiles=[];const imagePromises=[];// Extract images from zip\nfor(const[filename,zipFile]of Object.entries(zipContent.files)){if(!zipFile.dir&&filename.match(/\\.(jpg|jpeg|png|gif|webp)$/i)){imagePromises.push(zipFile.async('blob').then(blob=>{const file=new File([blob],filename,{type:blob.type});imageFiles.push(file);}));}}await Promise.all(imagePromises);if(imageFiles.length===0){setError('No image files found in the ZIP archive');setBulkLoading(false);return;}setBulkFiles(imageFiles);// Create previews\nconst previews=[];for(let i=0;i<imageFiles.length;i++){const reader=new FileReader();reader.onloadend=()=>{previews[i]=reader.result;if(previews.filter(p=>p).length===imageFiles.length){setBulkPreview([...previews]);}};reader.readAsDataURL(imageFiles[i]);}setBulkLoading(false);setSuccess(\"Successfully extracted \".concat(imageFiles.length,\" images from ZIP file\"));}catch(err){setError('Failed to process ZIP file: '+err.message);setBulkLoading(false);}};const handleBulkUpload=async()=>{if(bulkFiles.length===0){setError('Please select files to upload');return;}setBulkLoading(true);setError('');setUploadProgress({current:0,total:bulkFiles.length});const newItems=[];let successCount=0;let errorCount=0;for(let i=0;i<bulkFiles.length;i++){try{setUploadProgress({current:i+1,total:bulkFiles.length});const reader=new FileReader();const result=await new Promise((resolve,reject)=>{reader.onloadend=()=>resolve(reader.result);reader.onerror=reject;reader.readAsDataURL(bulkFiles[i]);});const base64=result.split(',')[1];const aiDescription=await analyzeClothingWithGemini(base64);const newItem={id:\"\".concat(Date.now(),\"_\").concat(i),userId:currentUser.id,imageUrl:result,aiDescription,createdAt:new Date().toISOString()};newItems.push(newItem);successCount++;}catch(err){console.error(\"Failed to process \".concat(bulkFiles[i].name,\":\"),err);errorCount++;}}if(newItems.length>0){saveWardrobe([...wardrobe,...newItems]);}setBulkLoading(false);setBulkFiles([]);setBulkPreview([]);setUploadProgress({current:0,total:0});if(successCount>0){setSuccess(\"Successfully uploaded \".concat(successCount,\" items\").concat(errorCount>0?\" (\".concat(errorCount,\" failed)\"):''));setTimeout(()=>{setCurrentView('wardrobe');setSuccess('');},3000);}else{setError('Failed to upload any items');}};const handleDeleteItem=itemId=>{saveWardrobe(wardrobe.filter(item=>item.id!==itemId));setSuccess('Item deleted successfully');};// Preferences handling functions\nconst handlePreferencesUpdate=updatedPreferences=>{if(!currentUser)return;const updatedUser=_objectSpread(_objectSpread({},currentUser),{},{preferences:_objectSpread(_objectSpread({},currentUser.preferences),updatedPreferences)});const updatedUsers=users.map(user=>user.id===currentUser.id?updatedUser:user);saveUsers(updatedUsers);setCurrentUser(updatedUser);setUserPreferences(updatedUser.preferences);setSuccess('Preferences updated successfully!');};const loadUserPreferences=()=>{if(currentUser&&currentUser.preferences){setUserPreferences(currentUser.preferences);}};useEffect(()=>{loadUserPreferences();},[currentUser]);const getUserWardrobe=()=>{return wardrobe.filter(item=>item.userId===(currentUser===null||currentUser===void 0?void 0:currentUser.id));};const handleGenerateOutfit=async()=>{if(!occasion){setError('Please enter an occasion');return;}const userWardrobe=getUserWardrobe();if(userWardrobe.length<3){setError('You need at least 3 items in your wardrobe to generate an outfit');return;}setLoading(true);setError('');try{const recommendation=await generateOutfitWithGemini(userWardrobe,occasion,currentUser===null||currentUser===void 0?void 0:currentUser.preferences);const selectedItems=userWardrobe.filter(item=>recommendation.selectedItems.includes(item.id));setRecommendedOutfit({items:selectedItems,styleNote:recommendation.styleNote,occasion});setSuccess('Outfit generated successfully!');}catch(err){setError(err.message||'Failed to generate outfit');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b sticky top-0 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-8 h-8 text-indigo-600\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"FitMate\"})]}),currentUser?/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('wardrobe');setError('');setSuccess('');setRecommendedOutfit(null);},className:\"px-4 py-2 rounded-lg flex items-center gap-2 transition \".concat(currentView==='wardrobe'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(ShoppingBag,{className:\"w-4 h-4\"}),\" Wardrobe\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('upload');setError('');setSuccess('');},className:\"px-4 py-2 rounded-lg flex items-center gap-2 transition \".concat(currentView==='upload'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4\"}),\" Upload\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('outfit');setError('');setSuccess('');},className:\"px-4 py-2 rounded-lg flex items-center gap-2 transition \".concat(currentView==='outfit'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4\"}),\" Get Outfit\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('eventplanner');setError('');setSuccess('');},className:\"px-4 py-2 rounded-lg flex items-center gap-2 transition \".concat(currentView==='eventplanner'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4\"}),\" Event Planner\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('preferences');setError('');setSuccess('');},className:\"px-4 py-2 rounded-lg flex items-center gap-2 transition \".concat(currentView==='preferences'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4\"}),\" Preferences\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 ml-4 pl-4 border-l\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 font-medium\",children:currentUser.name})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition flex items-center gap-2\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),\" Logout\"]})]})]}):/*#__PURE__*/_jsxs(\"nav\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('home'),className:\"px-4 py-2 rounded-lg flex items-center gap-2 transition \".concat(currentView==='home'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Home,{className:\"w-4 h-4\"}),\" Home\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('signin'),className:\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('signup'),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition\",children:\"Sign Up\"})]})]})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-6xl mx-auto px-4 py-8\",children:[currentView==='home'&&/*#__PURE__*/_jsx(HomeView,{setCurrentView:setCurrentView}),currentView==='signin'&&/*#__PURE__*/_jsx(SignInView,{authForm:authForm,setAuthForm:setAuthForm,handleSignIn:handleSignIn,error:error,success:success,setCurrentView:setCurrentView}),currentView==='signup'&&/*#__PURE__*/_jsx(SignUpView,{authForm:authForm,setAuthForm:setAuthForm,handleSignUp:handleSignUp,error:error,setCurrentView:setCurrentView}),currentView==='upload'&&currentUser&&/*#__PURE__*/_jsx(UploadView,{selectedFile:selectedFile,preview:preview,handleFileSelect:handleFileSelect,handleUpload:handleUpload,loading:loading,error:error,success:success,uploadMode:uploadMode,setUploadMode:setUploadMode,bulkFiles:bulkFiles,bulkPreview:bulkPreview,handleBulkFileSelect:handleBulkFileSelect,handleZipUpload:handleZipUpload,handleBulkUpload:handleBulkUpload,bulkLoading:bulkLoading,uploadProgress:uploadProgress}),currentView==='wardrobe'&&currentUser&&/*#__PURE__*/_jsx(WardrobeView,{wardrobe:getUserWardrobe(),handleDeleteItem:handleDeleteItem,success:success,setCurrentView:setCurrentView}),currentView==='preferences'&&currentUser&&/*#__PURE__*/_jsx(PreferencesView,{userPreferences:userPreferences,handlePreferencesUpdate:handlePreferencesUpdate,success:success,error:error}),currentView==='outfit'&&currentUser&&/*#__PURE__*/_jsx(OutfitView,{occasion:occasion,setOccasion:setOccasion,handleGenerateOutfit:handleGenerateOutfit,recommendedOutfit:recommendedOutfit,loading:loading,error:error,success:success}),currentView==='eventplanner'&&currentUser&&/*#__PURE__*/_jsx(EventPlanner,{})]})]});}// ============= VIEW COMPONENTS =============\nconst HomeView=_ref=>{let{setCurrentView}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full mb-4\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"w-10 h-10 text-white\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold text-gray-800 mb-4\",children:\"Welcome to FitMate\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600 max-w-2xl mx-auto\",children:\"Your AI-powered digital wardrobe. Upload your clothes, let AI analyze them, and get personalized outfit recommendations!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-12 h-12 text-indigo-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2\",children:\"Upload Clothes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Take photos of your clothing items and upload them to your digital closet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-12 h-12 text-purple-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2\",children:\"AI Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Our AI automatically identifies type, color, material, and style of each item\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition\",children:[/*#__PURE__*/_jsx(ShoppingBag,{className:\"w-12 h-12 text-pink-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2\",children:\"Smart Outfits\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Get AI-generated outfit recommendations for any occasion\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('signup'),className:\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition\",children:\"Get Started\"})]});};const SignInView=_ref2=>{let{authForm,setAuthForm,handleSignIn,error,success,setCurrentView}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-2 text-center\",children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center mb-6\",children:\"Sign in to your FitMate account\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 text-green-700 p-3 rounded-lg mb-4 text-sm\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:authForm.email,onChange:e=>setAuthForm(_objectSpread(_objectSpread({},authForm),{},{email:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"you@example.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:authForm.password,onChange:e=>setAuthForm(_objectSpread(_objectSpread({},authForm),{},{password:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignIn,className:\"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition\",children:\"Sign In\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-gray-600 mt-6\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('signup'),className:\"text-indigo-600 font-semibold hover:underline\",children:\"Sign up\"})]})]})});};const SignUpView=_ref3=>{let{authForm,setAuthForm,handleSignUp,error,setCurrentView}=_ref3;return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-2 text-center\",children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center mb-6\",children:\"Start building your digital wardrobe\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:authForm.name,onChange:e=>setAuthForm(_objectSpread(_objectSpread({},authForm),{},{name:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"John Doe\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:authForm.email,onChange:e=>setAuthForm(_objectSpread(_objectSpread({},authForm),{},{email:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"you@example.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:authForm.password,onChange:e=>setAuthForm(_objectSpread(_objectSpread({},authForm),{},{password:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignUp,className:\"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-gray-600 mt-6\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('signin'),className:\"text-indigo-600 font-semibold hover:underline\",children:\"Sign in\"})]})]})});};const UploadView=_ref4=>{let{selectedFile,preview,handleFileSelect,handleUpload,loading,error,success,uploadMode,setUploadMode,bulkFiles,bulkPreview,handleBulkFileSelect,handleZipUpload,handleBulkUpload,bulkLoading,uploadProgress}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-6\",children:\"Upload Clothing Items\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Add items to your digital wardrobe. Choose between single upload or bulk upload from multiple files or ZIP archives.\"}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 text-green-700 p-3 rounded-lg mb-4 text-sm flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4\"}),\" \",success]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUploadMode('single'),className:\"flex-1 py-2 px-4 rounded-md font-medium transition \".concat(uploadMode==='single'?'bg-white text-indigo-600 shadow-sm':'text-gray-600 hover:text-gray-800'),children:\"Single Upload\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUploadMode('bulk'),className:\"flex-1 py-2 px-4 rounded-md font-medium transition \".concat(uploadMode==='bulk'?'bg-white text-indigo-600 shadow-sm':'text-gray-600 hover:text-gray-800'),children:\"Bulk Upload\"})]})}),uploadMode==='single'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileSelect,className:\"hidden\",id:\"file-upload\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"block border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition\",children:preview?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview\",className:\"max-h-96 mx-auto rounded-lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Click to change image\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-16 h-16 text-gray-400 mx-auto\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-700\",children:\"Click to upload\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"PNG, JPG, GIF up to 5MB\"})]})]})}),selectedFile&&/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:loading,className:\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2 disabled:opacity-50 mt-4\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 animate-spin\"}),\"Analyzing with AI...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-5 h-5\"}),\"Upload & Analyze\"]})})]}),uploadMode==='bulk'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FolderOpen,{className:\"w-5 h-5\"}),\"Upload Multiple Files\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",multiple:true,onChange:handleBulkFileSelect,className:\"hidden\",id:\"bulk-file-upload\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"bulk-file-upload\",className:\"block border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition\",children:[/*#__PURE__*/_jsx(FolderOpen,{className:\"w-12 h-12 text-gray-400 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Select Multiple Images\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"PNG, JPG, GIF files\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Archive,{className:\"w-5 h-5\"}),\"Upload ZIP Archive\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".zip\",onChange:handleZipUpload,className:\"hidden\",id:\"zip-upload\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"zip-upload\",className:\"block border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition\",children:[/*#__PURE__*/_jsx(Archive,{className:\"w-12 h-12 text-gray-400 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Select ZIP File\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Extract images automatically\"})]})]})]}),bulkPreview.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-3\",children:[\"Preview (\",bulkPreview.length,\" images)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-96 overflow-y-auto\",children:bulkPreview.map((preview,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview \".concat(index+1),className:\"w-full h-24 object-cover rounded-lg border\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 right-1 bg-white rounded-full p-1\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3 text-green-500\"})})]},index))})]}),uploadProgress.total>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Processing Images\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[uploadProgress.current,\"/\",uploadProgress.total]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(uploadProgress.current/uploadProgress.total*100,\"%\")}})})]}),bulkFiles.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleBulkUpload,disabled:bulkLoading,className:\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2 disabled:opacity-50\",children:bulkLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 animate-spin\"}),\"Processing \",uploadProgress.current,\"/\",uploadProgress.total,\" images...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-5 h-5\"}),\"Upload & Analyze \",bulkFiles.length,\" Items\"]})})]})]})]});};const WardrobeView=_ref5=>{let{wardrobe,handleDeleteItem,success,setCurrentView}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800\",children:\"My Wardrobe\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-1\",children:[wardrobe.length,\" items in your collection\"]})]})}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 text-green-700 p-3 rounded-lg mb-6 text-sm\",children:success}),wardrobe.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-16 text-center\",children:[/*#__PURE__*/_jsx(ShoppingBag,{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:\"Your wardrobe is empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Start by uploading your first clothing item\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('upload'),className:\"bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition\",children:\"Upload Item\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\",children:wardrobe.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-64 overflow-hidden bg-gray-100\",children:/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.aiDescription.type,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-2 capitalize\",children:item.aiDescription.type}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium\",children:item.aiDescription.color}),item.aiDescription.style.map((style,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium\",children:style},idx))]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3 line-clamp-2\",children:item.aiDescription.fullDescription}),item.aiDescription.material&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-xs italic mb-3\",children:[\"Material: \",item.aiDescription.material]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDeleteItem(item.id),className:\"w-full bg-red-500 text-white py-2 rounded-lg font-medium hover:bg-red-600 transition flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),\"Delete\"]})]})]},item.id))})]});};const OutfitView=_ref6=>{let{occasion,setOccasion,handleGenerateOutfit,recommendedOutfit,loading,error,success}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-2\",children:\"AI Outfit Recommendation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Tell us the occasion and we'll create the perfect outfit from your wardrobe\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 text-red-700 p-3 rounded-lg mb-6 text-sm\",children:error}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 text-green-700 p-3 rounded-lg mb-6 text-sm flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4\"}),\" \",success]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-8 mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"What's the occasion?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:occasion,onChange:e=>setOccasion(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent mb-4\",placeholder:\"e.g., Business Casual Meeting, Summer Beach Day, Dinner Date\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateOutfit,disabled:loading,className:\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2 disabled:opacity-50\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 animate-spin\"}),\"Generating Outfit...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-5 h-5\"}),\"Generate Outfit\"]})})]}),recommendedOutfit&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-3\",children:\"Your Perfect Outfit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block bg-indigo-100 text-indigo-700 px-4 py-2 rounded-full font-semibold mb-4\",children:[\"Occasion: \",recommendedOutfit.occasion]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 text-lg italic max-w-2xl mx-auto\",children:[\"\\\"\",recommendedOutfit.styleNote,\"\\\"\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\",children:recommendedOutfit.items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl overflow-hidden border-2 border-indigo-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-64 overflow-hidden bg-white\",children:/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.aiDescription.type,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-800 capitalize mb-1\",children:item.aiDescription.type}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:item.aiDescription.color})]})]},item.id))})]})]});};const PreferencesView=_ref7=>{var _userPreferences$comf2,_userPreferences$styl2,_userPreferences$disl2;let{userPreferences,handlePreferencesUpdate,success,error}=_ref7;const[preferences,setPreferences]=useState(_objectSpread(_objectSpread({},userPreferences),{},{// Store raw text values for input fields\ncomfortPreferencesText:((_userPreferences$comf2=userPreferences.comfortPreferences)===null||_userPreferences$comf2===void 0?void 0:_userPreferences$comf2.join(', '))||'',stylePreferencesText:((_userPreferences$styl2=userPreferences.stylePreferences)===null||_userPreferences$styl2===void 0?void 0:_userPreferences$styl2.join(', '))||'',dislikesText:((_userPreferences$disl2=userPreferences.dislikes)===null||_userPreferences$disl2===void 0?void 0:_userPreferences$disl2.join(', '))||''}));useEffect(()=>{var _userPreferences$comf3,_userPreferences$styl3,_userPreferences$disl3;setPreferences(_objectSpread(_objectSpread({},userPreferences),{},{comfortPreferencesText:((_userPreferences$comf3=userPreferences.comfortPreferences)===null||_userPreferences$comf3===void 0?void 0:_userPreferences$comf3.join(', '))||'',stylePreferencesText:((_userPreferences$styl3=userPreferences.stylePreferences)===null||_userPreferences$styl3===void 0?void 0:_userPreferences$styl3.join(', '))||'',dislikesText:((_userPreferences$disl3=userPreferences.dislikes)===null||_userPreferences$disl3===void 0?void 0:_userPreferences$disl3.join(', '))||''}));},[userPreferences]);const handleSubmit=e=>{e.preventDefault();// Process text fields back into arrays\nconst processedPreferences=_objectSpread(_objectSpread({},preferences),{},{comfortPreferences:preferences.comfortPreferencesText.split(',').map(item=>item.trim()).filter(item=>item),stylePreferences:preferences.stylePreferencesText.split(',').map(item=>item.trim()).filter(item=>item),dislikes:preferences.dislikesText.split(',').map(item=>item.trim()).filter(item=>item)});// Remove the temporary text fields\ndelete processedPreferences.comfortPreferencesText;delete processedPreferences.stylePreferencesText;delete processedPreferences.dislikesText;handlePreferencesUpdate(processedPreferences);};const handleArrayChange=(field,value)=>{setPreferences(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value.split(',').map(item=>item.trim()).filter(item=>item)}));};const handleTextChange=(field,value)=>{setPreferences(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const bodyTypes=['Petite','Average','Tall','Plus Size','Athletic','Curvy','Slim'];const fitOptions=['Loose','Fitted','Oversized','Regular','Tight'];const shoeTypes=['Sneakers','Boots','Heels','Flats','Sandals','Loafers','Athletic'];return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-6\",children:\"Style Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Tell us about your style preferences so we can provide more personalized outfit recommendations.\"}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 text-green-700 p-3 rounded-lg mb-6 text-sm flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4\"}),\" \",success]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 text-red-700 p-3 rounded-lg mb-6 text-sm\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Body Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.bodyType||'',onChange:e=>setPreferences(prev=>_objectSpread(_objectSpread({},prev),{},{bodyType:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your body type\"}),bodyTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Comfort Preferences\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:preferences.comfortPreferencesText||'',onChange:e=>handleTextChange('comfortPreferencesText',e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"e.g., loose fitting, breathable fabrics, no tight waistbands\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Separate multiple preferences with commas\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Style Preferences\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:preferences.stylePreferencesText||'',onChange:e=>handleTextChange('stylePreferencesText',e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"e.g., casual, minimalist, bohemian, preppy, streetwear\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Separate multiple styles with commas\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Items/Styles You Dislike\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:preferences.dislikesText||'',onChange:e=>handleTextChange('dislikesText',e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",placeholder:\"e.g., tight jeans, high heels, bright colors, crop tops\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Separate multiple dislikes with commas\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Preferred Shoe Types\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.shoePreferences||'',onChange:e=>setPreferences(prev=>_objectSpread(_objectSpread({},prev),{},{shoePreferences:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select preferred shoe type\"}),shoeTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Preferred Fit\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.fitPreferences||'',onChange:e=>setPreferences(prev=>_objectSpread(_objectSpread({},prev),{},{fitPreferences:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select preferred fit\"}),fitOptions.map(fit=>/*#__PURE__*/_jsx(\"option\",{value:fit,children:fit},fit))]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"}),\"Save Preferences\"]})]})]})]});};","map":{"version":3,"names":["React","useState","useEffect","Upload","Sparkles","User","LogOut","Trash2","ShoppingBag","Loader2","Home","FolderOpen","Archive","CheckCircle","Settings","Calendar","JSZip","EventPlanner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GEMINI_API_KEY","clothingAnalysisSchema","type","properties","color","material","style","items","fullDescription","propertyOrdering","outfitRecommendationSchema","selectedItems","styleNote","fetchStructuredContent","userQuery","systemPrompt","responseSchema","apiUrl","concat","payload","contents","parts","text","systemInstruction","generationConfig","responseMimeType","attemptFetch","retries","arguments","length","undefined","_result$candidates","_result$candidates$","_result$candidates$$c","_result$candidates$$c2","_result$candidates$$c3","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","result","json","jsonString","candidates","content","parse","error","message","includes","console","warn","Promise","resolve","setTimeout","analyzeClothingWithGemini","imageBase64","mimeType","inline_data","mime_type","data","_result$candidates2","_result$candidates2$","_result$candidates2$$","_result$candidates2$$2","_result$candidates2$$3","_errorData$error","errorData","generateOutfitWithGemini","clothingItems","occasion","_userPreferences$comf","_userPreferences$styl","_userPreferences$disl","userPreferences","wardrobeDescription","map","item","index","id","aiDescription","preferencesText","bodyType","comfortPreferences","join","stylePreferences","dislikes","shoePreferences","fitPreferences","FitMate","currentView","setCurrentView","users","setUsers","currentUser","setCurrentUser","wardrobe","setWardrobe","authForm","setAuthForm","email","password","name","setError","success","setSuccess","loading","setLoading","setUserPreferences","selectedFile","setSelectedFile","preview","setPreview","bulkFiles","setBulkFiles","bulkPreview","setBulkPreview","bulkLoading","setBulkLoading","uploadProgress","setUploadProgress","current","total","uploadMode","setUploadMode","setOccasion","recommendedOutfit","setRecommendedOutfit","savedUsers","localStorage","getItem","savedWardrobe","timer","clearTimeout","saveUsers","newUsers","setItem","saveWardrobe","newWardrobe","handleSignUp","find","u","newUser","Date","now","toString","preferences","handleSignIn","user","handleLogout","handleFileSelect","e","file","target","files","reader","FileReader","onloadend","readAsDataURL","handleUpload","startsWith","supportedTypes","toLowerCase","size","base64","split","log","fileName","fileSize","fileType","base64Length","newItem","userId","imageUrl","createdAt","toISOString","err","handleBulkFileSelect","Array","from","imageFiles","filter","previews","i","handleZipUpload","endsWith","zip","zipContent","loadAsync","imagePromises","filename","zipFile","Object","entries","dir","match","push","async","then","blob","File","all","p","handleBulkUpload","newItems","successCount","errorCount","reject","onerror","handleDeleteItem","itemId","handlePreferencesUpdate","updatedPreferences","updatedUser","_objectSpread","updatedUsers","loadUserPreferences","getUserWardrobe","handleGenerateOutfit","userWardrobe","recommendation","className","children","onClick","HomeView","SignInView","SignUpView","UploadView","WardrobeView","PreferencesView","OutfitView","_ref","_ref2","value","onChange","placeholder","_ref3","_ref4","accept","htmlFor","src","alt","disabled","multiple","width","_ref5","idx","_ref6","_ref7","_userPreferences$comf2","_userPreferences$styl2","_userPreferences$disl2","setPreferences","comfortPreferencesText","stylePreferencesText","dislikesText","_userPreferences$comf3","_userPreferences$styl3","_userPreferences$disl3","handleSubmit","preventDefault","processedPreferences","trim","handleArrayChange","field","prev","handleTextChange","bodyTypes","fitOptions","shoeTypes","onSubmit","fit"],"sources":["/Users/weiqiang/Desktop/NYU Abu Dhabi/Comp Sci/Hackathons/FitMate/fitmate-prototype1/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Upload, Sparkles, User, LogOut, Trash2, ShoppingBag, Loader2, Home, FolderOpen, Archive, CheckCircle, Settings, Calendar } from 'lucide-react';\nimport JSZip from 'jszip';\nimport EventPlanner from './EventPlanner';\n\n// API Key\nconst GEMINI_API_KEY = 'AIzaSyACMmigNUz9JTuunnelqtUrNMbPHzmkaPw';\n\n// ============= API SCHEMAS =============\nconst clothingAnalysisSchema = {\n  type: \"OBJECT\",\n  properties: {\n    type: { type: \"STRING\" },\n    color: { type: \"STRING\" },\n    material: { type: \"STRING\" },\n    style: {\n      type: \"ARRAY\",\n      items: { type: \"STRING\" }\n    },\n    fullDescription: { type: \"STRING\" }\n  },\n  propertyOrdering: [\"type\", \"color\", \"material\", \"style\", \"fullDescription\"]\n};\n\nconst outfitRecommendationSchema = {\n  type: \"OBJECT\",\n  properties: {\n    selectedItems: {\n      type: \"ARRAY\",\n      items: { type: \"STRING\" }\n    },\n    styleNote: { type: \"STRING\" }\n  },\n  propertyOrdering: [\"selectedItems\", \"styleNote\"]\n};\n\n// ============= API FUNCTIONS =============\nconst fetchStructuredContent = async (userQuery, systemPrompt, responseSchema) => {\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${GEMINI_API_KEY}`;\n\n  const payload = {\n    contents: [{ parts: [{ text: userQuery }] }],\n    systemInstruction: {\n      parts: [{ text: systemPrompt }]\n    },\n    generationConfig: {\n      responseMimeType: \"application/json\",\n      responseSchema: responseSchema\n    }\n  };\n\n  const attemptFetch = async (retries = 3) => {\n    try {\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      const jsonString = result?.candidates?.[0]?.content?.parts?.[0]?.text;\n\n      if (!jsonString) {\n        throw new Error(\"API response was missing expected JSON content.\");\n      }\n\n      return JSON.parse(jsonString);\n\n    } catch (error) {\n      if (retries > 0 && error.message.includes('429')) {\n        console.warn(`Rate limit hit, retrying in ${4 - retries} seconds...`);\n        await new Promise(resolve => setTimeout(resolve, (4 - retries) * 1000));\n        return attemptFetch(retries - 1);\n      }\n      throw error;\n    }\n  };\n\n  return attemptFetch();\n};\n\nconst analyzeClothingWithGemini = async (imageBase64, mimeType = 'image/jpeg') => {\n  const userQuery = `Analyze this clothing item image and provide detailed information about it.`;\n\n  const systemPrompt = `You are an expert fashion analyst. Analyze the clothing item in the image and provide:\n- type: The specific type of clothing (e.g., \"T-shirt\", \"Jeans\", \"Sneakers\", \"Dress\")\n- color: The primary color of the item\n- material: The apparent material (e.g., \"Cotton\", \"Denim\", \"Leather\", \"Wool\", \"Polyester\")\n- style: An array of 2-4 style tags (e.g., [\"casual\", \"streetwear\"], [\"formal\", \"business\"], [\"sporty\", \"athletic\"])\n- fullDescription: A detailed 2-3 sentence description including design elements, patterns, fit, and notable features\n\nBe specific and accurate. Return ONLY valid JSON matching the schema.`;\n\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${GEMINI_API_KEY}`;\n\n  const payload = {\n    contents: [{\n      parts: [\n        { text: userQuery },\n        {\n          inline_data: {\n            mime_type: mimeType,\n            data: imageBase64\n          }\n        }\n      ]\n    }],\n    systemInstruction: {\n      parts: [{ text: systemPrompt }]\n    },\n    generationConfig: {\n      responseMimeType: \"application/json\",\n      responseSchema: clothingAnalysisSchema\n    }\n  };\n\n  const attemptFetch = async (retries = 3) => {\n    try {\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        console.error('Gemini API Error:', errorData);\n        throw new Error(errorData.error?.message || `HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      const jsonString = result?.candidates?.[0]?.content?.parts?.[0]?.text;\n\n      if (!jsonString) {\n        throw new Error(\"API response was missing expected JSON content.\");\n      }\n\n      return JSON.parse(jsonString);\n\n    } catch (error) {\n      if (retries > 0 && error.message.includes('429')) {\n        console.warn(`Rate limit hit, retrying in ${4 - retries} seconds...`);\n        await new Promise(resolve => setTimeout(resolve, (4 - retries) * 1000));\n        return attemptFetch(retries - 1);\n      }\n      throw error;\n    }\n  };\n\n  return attemptFetch();\n};\n\nconst generateOutfitWithGemini = async (clothingItems, occasion, userPreferences = {}) => {\n  const wardrobeDescription = clothingItems.map((item, index) => ({\n    id: item.id,\n    index: index,\n    type: item.aiDescription.type,\n    color: item.aiDescription.color,\n    material: item.aiDescription.material,\n    style: item.aiDescription.style,\n    fullDescription: item.aiDescription.fullDescription\n  }));\n\n  const preferencesText = userPreferences ? `\nUser Preferences:\n- Body Type: ${userPreferences.bodyType || 'Not specified'}\n- Comfort Preferences: ${userPreferences.comfortPreferences?.join(', ') || 'None specified'}\n- Style Preferences: ${userPreferences.stylePreferences?.join(', ') || 'None specified'}\n- Dislikes: ${userPreferences.dislikes?.join(', ') || 'None specified'}\n- Shoe Preferences: ${userPreferences.shoePreferences || 'Not specified'}\n- Fit Preferences: ${userPreferences.fitPreferences || 'Not specified'}\n` : '';\n\n  const userQuery = `Create an outfit recommendation for this occasion: ${occasion}\n\nAvailable wardrobe items:\n${JSON.stringify(wardrobeDescription, null, 2)}\n${preferencesText}`;\n\n  const systemPrompt = `You are a professional fashion stylist. Based on the user's wardrobe, preferences, and the specified occasion, recommend a complete outfit of 3-4 items.\n\nInstructions:\n1. Select items that are appropriate for the occasion\n2. Ensure the colors complement each other\n3. Match style and formality levels\n4. Create a cohesive, fashionable look\n5. IMPORTANT: Respect the user's preferences and avoid items they dislike\n6. Consider their comfort preferences (e.g., avoid tight items if they prefer loose fits)\n7. Match their style preferences when possible\n8. Consider their shoe preferences for footwear selection\n9. Respect their fit preferences (loose, fitted, etc.)\n\nReturn:\n- selectedItems: Array of item IDs (strings) that form the outfit\n- styleNote: A brief 2-3 sentence explanation of why this outfit works for the occasion and how it respects their preferences\n\nReturn ONLY valid JSON matching the schema.`;\n\n  return fetchStructuredContent(userQuery, systemPrompt, outfitRecommendationSchema);\n};\n\n// ============= MAIN APP =============\nexport default function FitMate() {\n  const [currentView, setCurrentView] = useState('home');\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [wardrobe, setWardrobe] = useState([]);\n\n  const [authForm, setAuthForm] = useState({ email: '', password: '', name: '' });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // User preferences state\n  const [userPreferences, setUserPreferences] = useState({\n    bodyType: '',\n    comfortPreferences: [],\n    stylePreferences: [],\n    dislikes: [],\n    shoePreferences: '',\n    fitPreferences: ''\n  });\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n\n  // Bulk upload states\n  const [bulkFiles, setBulkFiles] = useState([]);\n  const [bulkPreview, setBulkPreview] = useState([]);\n  const [bulkLoading, setBulkLoading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState({ current: 0, total: 0 });\n  const [uploadMode, setUploadMode] = useState('single'); // 'single' or 'bulk'\n\n  const [occasion, setOccasion] = useState('');\n  const [recommendedOutfit, setRecommendedOutfit] = useState(null);\n\n  useEffect(() => {\n    const savedUsers = localStorage.getItem('fitmate_users');\n    const savedWardrobe = localStorage.getItem('fitmate_wardrobe');\n    if (savedUsers) setUsers(JSON.parse(savedUsers));\n    if (savedWardrobe) setWardrobe(JSON.parse(savedWardrobe));\n  }, []);\n\n  useEffect(() => {\n    if (success) {\n      const timer = setTimeout(() => setSuccess(''), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [success]);\n\n  const saveUsers = (newUsers) => {\n    setUsers(newUsers);\n    localStorage.setItem('fitmate_users', JSON.stringify(newUsers));\n  };\n\n  const saveWardrobe = (newWardrobe) => {\n    setWardrobe(newWardrobe);\n    localStorage.setItem('fitmate_wardrobe', JSON.stringify(newWardrobe));\n  };\n\n  const handleSignUp = () => {\n    setError('');\n\n    if (!authForm.name || !authForm.email || !authForm.password) {\n      setError('All fields are required');\n      return;\n    }\n\n    if (authForm.password.length < 6) {\n      setError('Password must be at least 6 characters');\n      return;\n    }\n\n    if (users.find(u => u.email === authForm.email)) {\n      setError('User already exists');\n      return;\n    }\n\n    const newUser = {\n      id: Date.now().toString(),\n      name: authForm.name,\n      email: authForm.email,\n      password: authForm.password,\n      preferences: {\n        bodyType: '',\n        comfortPreferences: [],\n        stylePreferences: [],\n        dislikes: [],\n        shoePreferences: '',\n        fitPreferences: ''\n      }\n    };\n\n    saveUsers([...users, newUser]);\n    setCurrentUser(newUser);\n    setAuthForm({ email: '', password: '', name: '' });\n    setCurrentView('wardrobe');\n    setSuccess('Account created successfully!');\n  };\n\n  const handleSignIn = () => {\n    setError('');\n\n    const user = users.find(\n        u => u.email === authForm.email && u.password === authForm.password\n    );\n\n    if (!user) {\n      setError('Invalid credentials');\n      return;\n    }\n\n    setCurrentUser(user);\n    setAuthForm({ email: '', password: '', name: '' });\n    setCurrentView('wardrobe');\n    setSuccess('Welcome back!');\n  };\n\n  const handleLogout = () => {\n    setCurrentUser(null);\n    setCurrentView('home');\n    setRecommendedOutfit(null);\n  };\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n      setSuccess('');\n      setError('');\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setError('Please select an image');\n      return;\n    }\n\n    // Validate file type\n    if (!selectedFile.type.startsWith('image/')) {\n      setError('Please select a valid image file');\n      return;\n    }\n\n    // Check for supported formats\n    const supportedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];\n    if (!supportedTypes.includes(selectedFile.type.toLowerCase())) {\n      setError('Please select a JPEG, PNG, or WebP image file');\n      return;\n    }\n\n    // Validate file size (max 10MB)\n    if (selectedFile.size > 10 * 1024 * 1024) {\n      setError('Image file is too large. Please select an image smaller than 10MB');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        try {\n          const base64 = reader.result.split(',')[1];\n          console.log('Image details:', {\n            fileName: selectedFile.name,\n            fileSize: selectedFile.size,\n            fileType: selectedFile.type,\n            base64Length: base64.length\n          });\n          \n          const aiDescription = await analyzeClothingWithGemini(base64, selectedFile.type);\n\n          const newItem = {\n            id: Date.now().toString(),\n            userId: currentUser.id,\n            imageUrl: reader.result,\n            aiDescription,\n            createdAt: new Date().toISOString()\n          };\n\n          saveWardrobe([...wardrobe, newItem]);\n          setSuccess('Item uploaded and analyzed successfully!');\n          setSelectedFile(null);\n          setPreview(null);\n          setLoading(false);\n\n          setTimeout(() => {\n            setCurrentView('wardrobe');\n            setSuccess('');\n          }, 2000);\n        } catch (err) {\n          console.error('Upload error:', err);\n          setError(`Failed to analyze image: ${err.message}. Please try a different image or check if the image format is supported.`);\n          setLoading(false);\n        }\n      };\n      reader.readAsDataURL(selectedFile);\n    } catch (err) {\n      setError('Failed to process image');\n      setLoading(false);\n    }\n  };\n\n  // Bulk upload functions\n  const handleBulkFileSelect = async (e) => {\n    const files = Array.from(e.target.files);\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    \n    if (imageFiles.length === 0) {\n      setError('Please select image files only');\n      return;\n    }\n\n    setBulkFiles(imageFiles);\n    setError('');\n    \n    // Create previews for all images\n    const previews = [];\n    for (let i = 0; i < imageFiles.length; i++) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        previews[i] = reader.result;\n        if (previews.length === imageFiles.length) {\n          setBulkPreview([...previews]);\n        }\n      };\n      reader.readAsDataURL(imageFiles[i]);\n    }\n  };\n\n  const handleZipUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (!file.name.toLowerCase().endsWith('.zip')) {\n      setError('Please select a ZIP file');\n      return;\n    }\n\n    setBulkLoading(true);\n    setError('');\n\n    try {\n      const zip = new JSZip();\n      const zipContent = await zip.loadAsync(file);\n      \n      const imageFiles = [];\n      const imagePromises = [];\n\n      // Extract images from zip\n      for (const [filename, zipFile] of Object.entries(zipContent.files)) {\n        if (!zipFile.dir && filename.match(/\\.(jpg|jpeg|png|gif|webp)$/i)) {\n          imagePromises.push(\n            zipFile.async('blob').then(blob => {\n              const file = new File([blob], filename, { type: blob.type });\n              imageFiles.push(file);\n            })\n          );\n        }\n      }\n\n      await Promise.all(imagePromises);\n      \n      if (imageFiles.length === 0) {\n        setError('No image files found in the ZIP archive');\n        setBulkLoading(false);\n        return;\n      }\n\n      setBulkFiles(imageFiles);\n      \n      // Create previews\n      const previews = [];\n      for (let i = 0; i < imageFiles.length; i++) {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          previews[i] = reader.result;\n          if (previews.filter(p => p).length === imageFiles.length) {\n            setBulkPreview([...previews]);\n          }\n        };\n        reader.readAsDataURL(imageFiles[i]);\n      }\n      \n      setBulkLoading(false);\n      setSuccess(`Successfully extracted ${imageFiles.length} images from ZIP file`);\n    } catch (err) {\n      setError('Failed to process ZIP file: ' + err.message);\n      setBulkLoading(false);\n    }\n  };\n\n  const handleBulkUpload = async () => {\n    if (bulkFiles.length === 0) {\n      setError('Please select files to upload');\n      return;\n    }\n\n    setBulkLoading(true);\n    setError('');\n    setUploadProgress({ current: 0, total: bulkFiles.length });\n\n    const newItems = [];\n    let successCount = 0;\n    let errorCount = 0;\n\n    for (let i = 0; i < bulkFiles.length; i++) {\n      try {\n        setUploadProgress({ current: i + 1, total: bulkFiles.length });\n        \n        const reader = new FileReader();\n        const result = await new Promise((resolve, reject) => {\n          reader.onloadend = () => resolve(reader.result);\n          reader.onerror = reject;\n          reader.readAsDataURL(bulkFiles[i]);\n        });\n\n        const base64 = result.split(',')[1];\n        const aiDescription = await analyzeClothingWithGemini(base64);\n\n        const newItem = {\n          id: `${Date.now()}_${i}`,\n          userId: currentUser.id,\n          imageUrl: result,\n          aiDescription,\n          createdAt: new Date().toISOString()\n        };\n\n        newItems.push(newItem);\n        successCount++;\n      } catch (err) {\n        console.error(`Failed to process ${bulkFiles[i].name}:`, err);\n        errorCount++;\n      }\n    }\n\n    if (newItems.length > 0) {\n      saveWardrobe([...wardrobe, ...newItems]);\n    }\n\n    setBulkLoading(false);\n    setBulkFiles([]);\n    setBulkPreview([]);\n    setUploadProgress({ current: 0, total: 0 });\n\n    if (successCount > 0) {\n      setSuccess(`Successfully uploaded ${successCount} items${errorCount > 0 ? ` (${errorCount} failed)` : ''}`);\n      setTimeout(() => {\n        setCurrentView('wardrobe');\n        setSuccess('');\n      }, 3000);\n    } else {\n      setError('Failed to upload any items');\n    }\n  };\n\n  const handleDeleteItem = (itemId) => {\n    saveWardrobe(wardrobe.filter(item => item.id !== itemId));\n    setSuccess('Item deleted successfully');\n  };\n\n  // Preferences handling functions\n  const handlePreferencesUpdate = (updatedPreferences) => {\n    if (!currentUser) return;\n    \n    const updatedUser = {\n      ...currentUser,\n      preferences: { ...currentUser.preferences, ...updatedPreferences }\n    };\n    \n    const updatedUsers = users.map(user => \n      user.id === currentUser.id ? updatedUser : user\n    );\n    \n    saveUsers(updatedUsers);\n    setCurrentUser(updatedUser);\n    setUserPreferences(updatedUser.preferences);\n    setSuccess('Preferences updated successfully!');\n  };\n\n  const loadUserPreferences = () => {\n    if (currentUser && currentUser.preferences) {\n      setUserPreferences(currentUser.preferences);\n    }\n  };\n\n  useEffect(() => {\n    loadUserPreferences();\n  }, [currentUser]);\n\n  const getUserWardrobe = () => {\n    return wardrobe.filter(item => item.userId === currentUser?.id);\n  };\n\n  const handleGenerateOutfit = async () => {\n    if (!occasion) {\n      setError('Please enter an occasion');\n      return;\n    }\n\n    const userWardrobe = getUserWardrobe();\n\n    if (userWardrobe.length < 3) {\n      setError('You need at least 3 items in your wardrobe to generate an outfit');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const recommendation = await generateOutfitWithGemini(userWardrobe, occasion, currentUser?.preferences);\n\n      const selectedItems = userWardrobe.filter(item =>\n          recommendation.selectedItems.includes(item.id)\n      );\n\n      setRecommendedOutfit({\n        items: selectedItems,\n        styleNote: recommendation.styleNote,\n        occasion\n      });\n\n      setSuccess('Outfit generated successfully!');\n    } catch (err) {\n      setError(err.message || 'Failed to generate outfit');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50\">\n        {/* Header */}\n        <header className=\"bg-white shadow-sm border-b sticky top-0 z-50\">\n          <div className=\"max-w-6xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Sparkles className=\"w-8 h-8 text-indigo-600\" />\n                <h1 className=\"text-2xl font-bold text-gray-800\">FitMate</h1>\n              </div>\n\n              {currentUser ? (\n                  <nav className=\"flex items-center gap-2\">\n                    <button\n                        onClick={() => { setCurrentView('wardrobe'); setError(''); setSuccess(''); setRecommendedOutfit(null); }}\n                        className={`px-4 py-2 rounded-lg flex items-center gap-2 transition ${\n                            currentView === 'wardrobe' ? 'bg-indigo-600 text-white' : 'text-gray-600 hover:bg-gray-100'\n                        }`}\n                    >\n                      <ShoppingBag className=\"w-4 h-4\" /> Wardrobe\n                    </button>\n                    <button\n                        onClick={() => { setCurrentView('upload'); setError(''); setSuccess(''); }}\n                        className={`px-4 py-2 rounded-lg flex items-center gap-2 transition ${\n                            currentView === 'upload' ? 'bg-indigo-600 text-white' : 'text-gray-600 hover:bg-gray-100'\n                        }`}\n                    >\n                      <Upload className=\"w-4 h-4\" /> Upload\n                    </button>\n                    <button\n                        onClick={() => { setCurrentView('outfit'); setError(''); setSuccess(''); }}\n                        className={`px-4 py-2 rounded-lg flex items-center gap-2 transition ${\n                            currentView === 'outfit' ? 'bg-indigo-600 text-white' : 'text-gray-600 hover:bg-gray-100'\n                        }`}\n                    >\n                      <Sparkles className=\"w-4 h-4\" /> Get Outfit\n                    </button>\n                    <button\n                        onClick={() => { setCurrentView('eventplanner'); setError(''); setSuccess(''); }}\n                        className={`px-4 py-2 rounded-lg flex items-center gap-2 transition ${\n                            currentView === 'eventplanner' ? 'bg-indigo-600 text-white' : 'text-gray-600 hover:bg-gray-100'\n                        }`}\n                    >\n                      <Calendar className=\"w-4 h-4\" /> Event Planner\n                    </button>\n                    <button\n                        onClick={() => { setCurrentView('preferences'); setError(''); setSuccess(''); }}\n                        className={`px-4 py-2 rounded-lg flex items-center gap-2 transition ${\n                            currentView === 'preferences' ? 'bg-indigo-600 text-white' : 'text-gray-600 hover:bg-gray-100'\n                        }`}\n                    >\n                      <Settings className=\"w-4 h-4\" /> Preferences\n                    </button>\n                    <div className=\"flex items-center gap-3 ml-4 pl-4 border-l\">\n                      <div className=\"flex items-center gap-2\">\n                        <User className=\"w-4 h-4 text-gray-600\" />\n                        <span className=\"text-gray-700 font-medium\">{currentUser.name}</span>\n                      </div>\n                      <button\n                          onClick={handleLogout}\n                          className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition flex items-center gap-2\"\n                      >\n                        <LogOut className=\"w-4 h-4\" /> Logout\n                      </button>\n                    </div>\n                  </nav>\n              ) : (\n                  <nav className=\"flex gap-2\">\n                    <button\n                        onClick={() => setCurrentView('home')}\n                        className={`px-4 py-2 rounded-lg flex items-center gap-2 transition ${\n                            currentView === 'home' ? 'bg-indigo-600 text-white' : 'text-gray-600 hover:bg-gray-100'\n                        }`}\n                    >\n                      <Home className=\"w-4 h-4\" /> Home\n                    </button>\n                    <button\n                        onClick={() => setCurrentView('signin')}\n                        className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition\"\n                    >\n                      Sign In\n                    </button>\n                    <button\n                        onClick={() => setCurrentView('signup')}\n                        className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition\"\n                    >\n                      Sign Up\n                    </button>\n                  </nav>\n              )}\n            </div>\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <main className=\"max-w-6xl mx-auto px-4 py-8\">\n          {currentView === 'home' && <HomeView setCurrentView={setCurrentView} />}\n          {currentView === 'signin' && <SignInView authForm={authForm} setAuthForm={setAuthForm} handleSignIn={handleSignIn} error={error} success={success} setCurrentView={setCurrentView} />}\n          {currentView === 'signup' && <SignUpView authForm={authForm} setAuthForm={setAuthForm} handleSignUp={handleSignUp} error={error} setCurrentView={setCurrentView} />}\n          {currentView === 'upload' && currentUser && <UploadView \n            selectedFile={selectedFile} \n            preview={preview} \n            handleFileSelect={handleFileSelect} \n            handleUpload={handleUpload} \n            loading={loading} \n            error={error} \n            success={success}\n            uploadMode={uploadMode}\n            setUploadMode={setUploadMode}\n            bulkFiles={bulkFiles}\n            bulkPreview={bulkPreview}\n            handleBulkFileSelect={handleBulkFileSelect}\n            handleZipUpload={handleZipUpload}\n            handleBulkUpload={handleBulkUpload}\n            bulkLoading={bulkLoading}\n            uploadProgress={uploadProgress}\n          />}\n          {currentView === 'wardrobe' && currentUser && <WardrobeView wardrobe={getUserWardrobe()} handleDeleteItem={handleDeleteItem} success={success} setCurrentView={setCurrentView} />}\n          {currentView === 'preferences' && currentUser && <PreferencesView userPreferences={userPreferences} handlePreferencesUpdate={handlePreferencesUpdate} success={success} error={error} />}\n          {currentView === 'outfit' && currentUser && <OutfitView occasion={occasion} setOccasion={setOccasion} handleGenerateOutfit={handleGenerateOutfit} recommendedOutfit={recommendedOutfit} loading={loading} error={error} success={success} />}\n          {currentView === 'eventplanner' && currentUser && <EventPlanner />}\n        </main>\n      </div>\n  );\n}\n\n// ============= VIEW COMPONENTS =============\n\nconst HomeView = ({ setCurrentView }) => (\n    <div className=\"text-center py-16\">\n      <div className=\"mb-8\">\n        <div className=\"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full mb-4\">\n          <Sparkles className=\"w-10 h-10 text-white\" />\n        </div>\n        <h2 className=\"text-4xl font-bold text-gray-800 mb-4\">Welcome to FitMate</h2>\n        <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n          Your AI-powered digital wardrobe. Upload your clothes, let AI analyze them, and get personalized outfit recommendations!\n        </p>\n      </div>\n\n      <div className=\"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-12\">\n        <div className=\"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition\">\n          <Upload className=\"w-12 h-12 text-indigo-600 mx-auto mb-4\" />\n          <h3 className=\"font-semibold text-lg mb-2\">Upload Clothes</h3>\n          <p className=\"text-gray-600 text-sm\">Take photos of your clothing items and upload them to your digital closet</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition\">\n          <Sparkles className=\"w-12 h-12 text-purple-600 mx-auto mb-4\" />\n          <h3 className=\"font-semibold text-lg mb-2\">AI Analysis</h3>\n          <p className=\"text-gray-600 text-sm\">Our AI automatically identifies type, color, material, and style of each item</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition\">\n          <ShoppingBag className=\"w-12 h-12 text-pink-600 mx-auto mb-4\" />\n          <h3 className=\"font-semibold text-lg mb-2\">Smart Outfits</h3>\n          <p className=\"text-gray-600 text-sm\">Get AI-generated outfit recommendations for any occasion</p>\n        </div>\n      </div>\n\n      <button\n          onClick={() => setCurrentView('signup')}\n          className=\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition\"\n      >\n        Get Started\n      </button>\n    </div>\n);\n\nconst SignInView = ({ authForm, setAuthForm, handleSignIn, error, success, setCurrentView }) => (\n    <div className=\"max-w-md mx-auto\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8\">\n        <h2 className=\"text-3xl font-bold text-gray-800 mb-2 text-center\">Welcome Back</h2>\n        <p className=\"text-gray-600 text-center mb-6\">Sign in to your FitMate account</p>\n\n        {error && <div className=\"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm\">{error}</div>}\n        {success && <div className=\"bg-green-50 text-green-700 p-3 rounded-lg mb-4 text-sm\">{success}</div>}\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\n            <input\n                type=\"email\"\n                value={authForm.email}\n                onChange={(e) => setAuthForm({...authForm, email: e.target.value})}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n                placeholder=\"you@example.com\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Password</label>\n            <input\n                type=\"password\"\n                value={authForm.password}\n                onChange={(e) => setAuthForm({...authForm, password: e.target.value})}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n                placeholder=\"\"\n            />\n          </div>\n\n          <button\n              onClick={handleSignIn}\n              className=\"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition\"\n          >\n            Sign In\n          </button>\n        </div>\n\n        <p className=\"text-center text-gray-600 mt-6\">\n          Don't have an account?{' '}\n          <button onClick={() => setCurrentView('signup')} className=\"text-indigo-600 font-semibold hover:underline\">\n            Sign up\n          </button>\n        </p>\n      </div>\n    </div>\n);\n\nconst SignUpView = ({ authForm, setAuthForm, handleSignUp, error, setCurrentView }) => (\n    <div className=\"max-w-md mx-auto\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8\">\n        <h2 className=\"text-3xl font-bold text-gray-800 mb-2 text-center\">Create Account</h2>\n        <p className=\"text-gray-600 text-center mb-6\">Start building your digital wardrobe</p>\n\n        {error && <div className=\"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm\">{error}</div>}\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Full Name</label>\n            <input\n                type=\"text\"\n                value={authForm.name}\n                onChange={(e) => setAuthForm({...authForm, name: e.target.value})}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n                placeholder=\"John Doe\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\n            <input\n                type=\"email\"\n                value={authForm.email}\n                onChange={(e) => setAuthForm({...authForm, email: e.target.value})}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n                placeholder=\"you@example.com\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Password</label>\n            <input\n                type=\"password\"\n                value={authForm.password}\n                onChange={(e) => setAuthForm({...authForm, password: e.target.value})}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n                placeholder=\"\"\n            />\n          </div>\n\n          <button\n              onClick={handleSignUp}\n              className=\"w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition\"\n          >\n            Sign Up\n          </button>\n        </div>\n\n        <p className=\"text-center text-gray-600 mt-6\">\n          Already have an account?{' '}\n          <button onClick={() => setCurrentView('signin')} className=\"text-indigo-600 font-semibold hover:underline\">\n            Sign in\n          </button>\n        </p>\n      </div>\n    </div>\n);\n\nconst UploadView = ({ \n  selectedFile, preview, handleFileSelect, handleUpload, loading, error, success,\n  uploadMode, setUploadMode, bulkFiles, bulkPreview, handleBulkFileSelect, \n  handleZipUpload, handleBulkUpload, bulkLoading, uploadProgress \n}) => (\n    <div className=\"max-w-4xl mx-auto\">\n      <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">Upload Clothing Items</h2>\n\n      <div className=\"bg-white rounded-xl shadow-sm p-8\">\n        <p className=\"text-gray-600 mb-6\">\n          Add items to your digital wardrobe. Choose between single upload or bulk upload from multiple files or ZIP archives.\n        </p>\n\n        {success && <div className=\"bg-green-50 text-green-700 p-3 rounded-lg mb-4 text-sm flex items-center gap-2\">\n          <Sparkles className=\"w-4 h-4\" /> {success}\n        </div>}\n        {error && <div className=\"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm\">{error}</div>}\n\n        {/* Upload Mode Toggle */}\n        <div className=\"mb-6\">\n          <div className=\"flex bg-gray-100 rounded-lg p-1\">\n            <button\n              onClick={() => setUploadMode('single')}\n              className={`flex-1 py-2 px-4 rounded-md font-medium transition ${\n                uploadMode === 'single' \n                  ? 'bg-white text-indigo-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-800'\n              }`}\n            >\n              Single Upload\n            </button>\n            <button\n              onClick={() => setUploadMode('bulk')}\n              className={`flex-1 py-2 px-4 rounded-md font-medium transition ${\n                uploadMode === 'bulk' \n                  ? 'bg-white text-indigo-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-800'\n              }`}\n            >\n              Bulk Upload\n            </button>\n          </div>\n        </div>\n\n        {/* Single Upload Mode */}\n        {uploadMode === 'single' && (\n          <div className=\"mb-6\">\n            <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                id=\"file-upload\"\n            />\n\n            <label\n                htmlFor=\"file-upload\"\n                className=\"block border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition\"\n            >\n              {preview ? (\n                  <div className=\"space-y-4\">\n                    <img src={preview} alt=\"Preview\" className=\"max-h-96 mx-auto rounded-lg\" />\n                    <p className=\"text-sm text-gray-600\">Click to change image</p>\n                  </div>\n              ) : (\n                  <div className=\"space-y-4\">\n                    <Upload className=\"w-16 h-16 text-gray-400 mx-auto\" />\n                    <div>\n                      <p className=\"text-lg font-semibold text-gray-700\">Click to upload</p>\n                      <p className=\"text-sm text-gray-500\">PNG, JPG, GIF up to 5MB</p>\n                    </div>\n                  </div>\n              )}\n            </label>\n\n            {selectedFile && (\n                <button\n                    onClick={handleUpload}\n                    disabled={loading}\n                    className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2 disabled:opacity-50 mt-4\"\n                >\n                  {loading ? (\n                      <>\n                        <Loader2 className=\"w-5 h-5 animate-spin\" />\n                        Analyzing with AI...\n                      </>\n                  ) : (\n                      <>\n                        <Sparkles className=\"w-5 h-5\" />\n                        Upload & Analyze\n                      </>\n                  )}\n                </button>\n            )}\n          </div>\n        )}\n\n        {/* Bulk Upload Mode */}\n        {uploadMode === 'bulk' && (\n          <div className=\"space-y-6\">\n            {/* File Selection Options */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {/* Multiple Files Upload */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2\">\n                  <FolderOpen className=\"w-5 h-5\" />\n                  Upload Multiple Files\n                </h3>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  multiple\n                  onChange={handleBulkFileSelect}\n                  className=\"hidden\"\n                  id=\"bulk-file-upload\"\n                />\n                <label\n                  htmlFor=\"bulk-file-upload\"\n                  className=\"block border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition\"\n                >\n                  <FolderOpen className=\"w-12 h-12 text-gray-400 mx-auto mb-2\" />\n                  <p className=\"text-sm font-medium text-gray-700\">Select Multiple Images</p>\n                  <p className=\"text-xs text-gray-500\">PNG, JPG, GIF files</p>\n                </label>\n              </div>\n\n              {/* ZIP Upload */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2\">\n                  <Archive className=\"w-5 h-5\" />\n                  Upload ZIP Archive\n                </h3>\n                <input\n                  type=\"file\"\n                  accept=\".zip\"\n                  onChange={handleZipUpload}\n                  className=\"hidden\"\n                  id=\"zip-upload\"\n                />\n                <label\n                  htmlFor=\"zip-upload\"\n                  className=\"block border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 transition\"\n                >\n                  <Archive className=\"w-12 h-12 text-gray-400 mx-auto mb-2\" />\n                  <p className=\"text-sm font-medium text-gray-700\">Select ZIP File</p>\n                  <p className=\"text-xs text-gray-500\">Extract images automatically</p>\n                </label>\n              </div>\n            </div>\n\n            {/* Bulk Preview */}\n            {bulkPreview.length > 0 && (\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-700 mb-3\">\n                  Preview ({bulkPreview.length} images)\n                </h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-96 overflow-y-auto\">\n                  {bulkPreview.map((preview, index) => (\n                    <div key={index} className=\"relative\">\n                      <img \n                        src={preview} \n                        alt={`Preview ${index + 1}`} \n                        className=\"w-full h-24 object-cover rounded-lg border\"\n                      />\n                      <div className=\"absolute top-1 right-1 bg-white rounded-full p-1\">\n                        <CheckCircle className=\"w-3 h-3 text-green-500\" />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Upload Progress */}\n            {uploadProgress.total > 0 && (\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <div className=\"flex justify-between items-center mb-2\">\n                  <span className=\"text-sm font-medium text-gray-700\">Processing Images</span>\n                  <span className=\"text-sm text-gray-500\">{uploadProgress.current}/{uploadProgress.total}</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className=\"bg-indigo-600 h-2 rounded-full transition-all duration-300\"\n                    style={{ width: `${(uploadProgress.current / uploadProgress.total) * 100}%` }}\n                  ></div>\n                </div>\n              </div>\n            )}\n\n            {/* Bulk Upload Button */}\n            {bulkFiles.length > 0 && (\n              <button\n                onClick={handleBulkUpload}\n                disabled={bulkLoading}\n                className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2 disabled:opacity-50\"\n              >\n                {bulkLoading ? (\n                  <>\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                    Processing {uploadProgress.current}/{uploadProgress.total} images...\n                  </>\n                ) : (\n                  <>\n                    <Sparkles className=\"w-5 h-5\" />\n                    Upload & Analyze {bulkFiles.length} Items\n                  </>\n                )}\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n);\n\nconst WardrobeView = ({ wardrobe, handleDeleteItem, success, setCurrentView }) => (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-gray-800\">My Wardrobe</h2>\n          <p className=\"text-gray-600 mt-1\">{wardrobe.length} items in your collection</p>\n        </div>\n      </div>\n\n      {success && <div className=\"bg-green-50 text-green-700 p-3 rounded-lg mb-6 text-sm\">{success}</div>}\n\n      {wardrobe.length === 0 ? (\n          <div className=\"bg-white rounded-xl shadow-sm p-16 text-center\">\n            <ShoppingBag className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">Your wardrobe is empty</h3>\n            <p className=\"text-gray-600 mb-6\">Start by uploading your first clothing item</p>\n            <button\n                onClick={() => setCurrentView('upload')}\n                className=\"bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition\"\n            >\n              Upload Item\n            </button>\n          </div>\n      ) : (\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {wardrobe.map(item => (\n                <div key={item.id} className=\"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition\">\n                  <div className=\"h-64 overflow-hidden bg-gray-100\">\n                    <img\n                        src={item.imageUrl}\n                        alt={item.aiDescription.type}\n                        className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  <div className=\"p-4\">\n                    <h3 className=\"text-xl font-semibold text-gray-800 mb-2 capitalize\">\n                      {item.aiDescription.type}\n                    </h3>\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\n                <span className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium\">\n                  {item.aiDescription.color}\n                </span>\n                      {item.aiDescription.style.map((style, idx) => (\n                          <span key={idx} className=\"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium\">\n                    {style}\n                  </span>\n                      ))}\n                    </div>\n                    <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">\n                      {item.aiDescription.fullDescription}\n                    </p>\n                    {item.aiDescription.material && (\n                        <p className=\"text-gray-500 text-xs italic mb-3\">\n                          Material: {item.aiDescription.material}\n                        </p>\n                    )}\n                    <button\n                        onClick={() => handleDeleteItem(item.id)}\n                        className=\"w-full bg-red-500 text-white py-2 rounded-lg font-medium hover:bg-red-600 transition flex items-center justify-center gap-2\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                      Delete\n                    </button>\n                  </div>\n                </div>\n            ))}\n          </div>\n      )}\n    </div>\n);\n\nconst OutfitView = ({ occasion, setOccasion, handleGenerateOutfit, recommendedOutfit, loading, error, success }) => (\n    <div className=\"max-w-4xl mx-auto\">\n      <h2 className=\"text-3xl font-bold text-gray-800 mb-2\">AI Outfit Recommendation</h2>\n      <p className=\"text-gray-600 mb-6\">\n        Tell us the occasion and we'll create the perfect outfit from your wardrobe\n      </p>\n\n      {error && <div className=\"bg-red-50 text-red-700 p-3 rounded-lg mb-6 text-sm\">{error}</div>}\n      {success && <div className=\"bg-green-50 text-green-700 p-3 rounded-lg mb-6 text-sm flex items-center gap-2\">\n        <Sparkles className=\"w-4 h-4\" /> {success}\n      </div>}\n\n      <div className=\"bg-white rounded-xl shadow-sm p-8 mb-8\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          What's the occasion?\n        </label>\n        <input\n            type=\"text\"\n            value={occasion}\n            onChange={(e) => setOccasion(e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent mb-4\"\n            placeholder=\"e.g., Business Casual Meeting, Summer Beach Day, Dinner Date\"\n        />\n\n        <button\n            onClick={handleGenerateOutfit}\n            disabled={loading}\n            className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2 disabled:opacity-50\"\n        >\n          {loading ? (\n              <>\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\n                Generating Outfit...\n              </>\n          ) : (\n              <>\n                <Sparkles className=\"w-5 h-5\" />\n                Generate Outfit\n              </>\n          )}\n        </button>\n      </div>\n\n      {recommendedOutfit && (\n          <div className=\"bg-white rounded-xl shadow-sm p-8\">\n            <div className=\"text-center mb-8\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-3\">Your Perfect Outfit</h3>\n              <div className=\"inline-block bg-indigo-100 text-indigo-700 px-4 py-2 rounded-full font-semibold mb-4\">\n                Occasion: {recommendedOutfit.occasion}\n              </div>\n              <p className=\"text-gray-700 text-lg italic max-w-2xl mx-auto\">\n                \"{recommendedOutfit.styleNote}\"\n              </p>\n            </div>\n\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {recommendedOutfit.items.map(item => (\n                  <div key={item.id} className=\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl overflow-hidden border-2 border-indigo-200\">\n                    <div className=\"h-64 overflow-hidden bg-white\">\n                      <img\n                          src={item.imageUrl}\n                          alt={item.aiDescription.type}\n                          className=\"w-full h-full object-cover\"\n                      />\n                    </div>\n                    <div className=\"p-4 text-center\">\n                      <h4 className=\"text-lg font-semibold text-gray-800 capitalize mb-1\">\n                        {item.aiDescription.type}\n                      </h4>\n                      <p className=\"text-gray-600 text-sm\">\n                        {item.aiDescription.color}\n                      </p>\n                    </div>\n                  </div>\n              ))}\n            </div>\n          </div>\n      )}\n    </div>\n);\n\nconst PreferencesView = ({ userPreferences, handlePreferencesUpdate, success, error }) => {\n  const [preferences, setPreferences] = useState({\n    ...userPreferences,\n    // Store raw text values for input fields\n    comfortPreferencesText: userPreferences.comfortPreferences?.join(', ') || '',\n    stylePreferencesText: userPreferences.stylePreferences?.join(', ') || '',\n    dislikesText: userPreferences.dislikes?.join(', ') || ''\n  });\n\n  useEffect(() => {\n    setPreferences({\n      ...userPreferences,\n      comfortPreferencesText: userPreferences.comfortPreferences?.join(', ') || '',\n      stylePreferencesText: userPreferences.stylePreferences?.join(', ') || '',\n      dislikesText: userPreferences.dislikes?.join(', ') || ''\n    });\n  }, [userPreferences]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // Process text fields back into arrays\n    const processedPreferences = {\n      ...preferences,\n      comfortPreferences: preferences.comfortPreferencesText.split(',').map(item => item.trim()).filter(item => item),\n      stylePreferences: preferences.stylePreferencesText.split(',').map(item => item.trim()).filter(item => item),\n      dislikes: preferences.dislikesText.split(',').map(item => item.trim()).filter(item => item)\n    };\n    \n    // Remove the temporary text fields\n    delete processedPreferences.comfortPreferencesText;\n    delete processedPreferences.stylePreferencesText;\n    delete processedPreferences.dislikesText;\n    \n    handlePreferencesUpdate(processedPreferences);\n  };\n\n  const handleArrayChange = (field, value) => {\n    setPreferences(prev => ({\n      ...prev,\n      [field]: value.split(',').map(item => item.trim()).filter(item => item)\n    }));\n  };\n\n  const handleTextChange = (field, value) => {\n    setPreferences(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const bodyTypes = ['Petite', 'Average', 'Tall', 'Plus Size', 'Athletic', 'Curvy', 'Slim'];\n  const fitOptions = ['Loose', 'Fitted', 'Oversized', 'Regular', 'Tight'];\n  const shoeTypes = ['Sneakers', 'Boots', 'Heels', 'Flats', 'Sandals', 'Loafers', 'Athletic'];\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">Style Preferences</h2>\n      \n      <div className=\"bg-white rounded-xl shadow-sm p-8\">\n        <p className=\"text-gray-600 mb-6\">\n          Tell us about your style preferences so we can provide more personalized outfit recommendations.\n        </p>\n\n        {success && <div className=\"bg-green-50 text-green-700 p-3 rounded-lg mb-6 text-sm flex items-center gap-2\">\n          <Sparkles className=\"w-4 h-4\" /> {success}\n        </div>}\n        {error && <div className=\"bg-red-50 text-red-700 p-3 rounded-lg mb-6 text-sm\">{error}</div>}\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Body Type */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">Body Type</label>\n            <select\n              value={preferences.bodyType || ''}\n              onChange={(e) => setPreferences(prev => ({ ...prev, bodyType: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n            >\n              <option value=\"\">Select your body type</option>\n              {bodyTypes.map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Comfort Preferences */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">Comfort Preferences</label>\n            <input\n              type=\"text\"\n              value={preferences.comfortPreferencesText || ''}\n              onChange={(e) => handleTextChange('comfortPreferencesText', e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n              placeholder=\"e.g., loose fitting, breathable fabrics, no tight waistbands\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">Separate multiple preferences with commas</p>\n          </div>\n\n          {/* Style Preferences */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">Style Preferences</label>\n            <input\n              type=\"text\"\n              value={preferences.stylePreferencesText || ''}\n              onChange={(e) => handleTextChange('stylePreferencesText', e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n              placeholder=\"e.g., casual, minimalist, bohemian, preppy, streetwear\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">Separate multiple styles with commas</p>\n          </div>\n\n          {/* Dislikes */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">Items/Styles You Dislike</label>\n            <input\n              type=\"text\"\n              value={preferences.dislikesText || ''}\n              onChange={(e) => handleTextChange('dislikesText', e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n              placeholder=\"e.g., tight jeans, high heels, bright colors, crop tops\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">Separate multiple dislikes with commas</p>\n          </div>\n\n          {/* Shoe Preferences */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">Preferred Shoe Types</label>\n            <select\n              value={preferences.shoePreferences || ''}\n              onChange={(e) => setPreferences(prev => ({ ...prev, shoePreferences: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n            >\n              <option value=\"\">Select preferred shoe type</option>\n              {shoeTypes.map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Fit Preferences */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">Preferred Fit</label>\n            <select\n              value={preferences.fitPreferences || ''}\n              onChange={(e) => setPreferences(prev => ({ ...prev, fitPreferences: e.target.value }))}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent\"\n            >\n              <option value=\"\">Select preferred fit</option>\n              {fitOptions.map(fit => (\n                <option key={fit} value={fit}>{fit}</option>\n              ))}\n            </select>\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition flex items-center justify-center gap-2\"\n          >\n            <Settings className=\"w-5 h-5\" />\n            Save Preferences\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}